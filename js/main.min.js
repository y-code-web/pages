const animateCSS=(e,a,t="animate__")=>new Promise(((n,i)=>{if(!e)return;const o=`${t}${a}`,s="string"==typeof e?document.querySelector(e):e;s.classList.add(`${t}animated`,o),s.addEventListener("animationend",(function(e){e.stopPropagation(),s.classList.remove(`${t}animated`,o),n("Animation ended")}),{once:!0})}));function hideOtherSections(e){Array.prototype.filter.call(e,(function(e){e.classList.contains("visible")&&animateCSS(e,"fadeOutUp").then((a=>{document.querySelector(`a[href="#${e.id}"]`).classList.remove("active"),e.classList.remove("visible")}))}))}function showCurrentSection(e){var a=document.querySelector(`a[href="#${e.id}"]`);e.classList.add("visible"),animateCSS(e,"fadeInUp").then((e=>{a.classList.add("active")}))}function rememberSection(e){localStorage.setItem("activeSection",e)}function showSectionByLocalStorage(){var e=localStorage.getItem("activeSection"),a=document.querySelector(e),t=document.querySelectorAll('[data-element="section"]');e&&a&&(hideOtherSections(t),showCurrentSection(a))}var links=document.querySelectorAll('[data-element="switcher-section"] a');Array.prototype.filter.call(links,(function(e){e.addEventListener("click",(function(e){e.preventDefault();var a=e.currentTarget.getAttribute("href"),t=document.querySelector(a);hideOtherSections(t.parentElement.querySelectorAll('[data-element="section"]')),showCurrentSection(t),rememberSection(a)}))})),showSectionByLocalStorage(),$((function(){var e=$('[data-element="loader"]'),a=e.data("animationOut"),t=$("#app"),n=t.data("animationIn"),i=t.data("animationOut"),o=$('[data-element="lines"]'),s=o.data("animationIn"),d=o.data("animationOut"),c=(n=t.data("animationIn"),i=t.data("animationOut"),$('[data-element="header"]')),r=c.data("animationIn"),l=c.data("animationOut"),m=$("#main"),u=m.find('[data-element="content"]'),S=u.data("animationIn"),h=(u.data("animationOut"),m.find('[data-element="background"]')),f=h.data("animationIn");h.data("animationOut");animateCSS(e[0],a).then((function(){e.removeClass("show"),t.addClass("show"),animateCSS(t[0],n).then((function(){o.addClass("show"),animateCSS(o[0],s).then((function(){o.addClass("animate__pulse animate__animated animate__infinite"),m.addClass("show"),c.addClass("show"),animateCSS(c[0],r),animateCSS(u[0],S),animateCSS(h[0],f)}))}))}));new Swiper("[data-element='app']",{grabCursor:!1,allowTouchMove:!1,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:["-120%",0,-500]},next:{shadow:!0,translate:["120%",0,-500]}},on:{slideChangeTransitionEnd:function(e){console.log(e.activeIndex)}}}),new Swiper("[data-element='carousel-gallery']",{effect:"cards",grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});$('[data-element="toggle"]').on("click",(function(e){var a=$(this).data("target"),t=$(this).data("toggleClass");$(`#${a}`).toggleClass(t)})),$('[data-element="switch-slide"]').on("click",(function(e){e.preventDefault();var a=$(this).attr("href"),m=$(this),u=$(a).find('[data-element="content"]'),S=u.data("animationIn"),h=$(a).find('[data-element="background"]'),f=h.data("animationIn");$(".section").each((function(e,C){if($(C).hasClass("show")){var v=$(C).find('[data-element="content"]'),w=v.data("animationOut"),p=$(C).find('[data-element="background"]'),g=p.data("animationOut");console.log(`hide #${C.id} section`),c.removeClass("menu-opened"),animateCSS(c[0],l).then((function(){c.removeClass("show"),$('[data-element="switch-slide"]').each((function(e,a){$(a).parent().removeClass("active")}))})),animateCSS(p[0],g),animateCSS(v[0],w).then((function(){$(C).removeClass("show"),o.removeClass("animate__pulse animate__animated animate__infinite"),animateCSS(o[0],d).then((function(){o.removeClass("show"),animateCSS(t[0],i).then((function(){animateCSS(t[0],n).then((function(){o.addClass("show"),animateCSS(o[0],s).then((function(){console.log(`show ${a} section`),o.addClass("animate__pulse animate__animated animate__infinite"),$(a).addClass("show"),animateCSS(u[0],S),animateCSS(h[0],f),c.addClass("show"),m.parent().addClass("active"),animateCSS(c[0],r)}))}))}))}))}))}}))}))}));